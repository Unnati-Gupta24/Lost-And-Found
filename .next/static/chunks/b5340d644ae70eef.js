(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),r=e.i(61668),a=e.i(71645);let s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:d="",children:i,iconNode:n,...c},u)=>(0,a.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:o?24*Number(r)/Number(t):r,className:s("lucide",d),...c},[...n.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),d=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...l},d)=>(0,a.createElement)(o,{ref:d,iconNode:t,className:s(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,r),...l}));return r.displayName=`${e}`,r},i=d("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),n=d("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);function c(){let{login:e,signup:s}=(0,r.useAuth)(),[l,o]=(0,a.useState)(!1),[d,c]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[b,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),v=async t=>{t.preventDefault(),f(""),g(!0);try{l?await s(d,u,m):await e(d,u)}catch(e){f("Authentication failed. Please try again.")}finally{g(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-background flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 w-full max-w-6xl",children:[(0,t.jsxs)("div",{className:"hidden md:flex flex-col justify-center space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,t.jsx)(i,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lost & Found"})]}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground",children:"Connect with your community"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(i,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Find Your Lost Items"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Browse posts from your community"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(n,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Connect & Chat"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Message users directly to coordinate"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(i,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:"Help Others"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Post about found items and reunite them"})]})]})]})]}),(0,t.jsx)("div",{className:"flex flex-col justify-center",children:(0,t.jsxs)("div",{className:"bg-card rounded-2xl shadow-lg p-8 border border-border",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:l?"Create Account":"Welcome Back"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:l?"Join our community to get started":"Sign in to your account"}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"John Doe",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),(0,t.jsx)("input",{type:"email",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"you@example.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),(0,t.jsx)("input",{type:"password",value:u,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"••••••••",required:!0})]}),p&&(0,t.jsx)("div",{className:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg text-sm",children:p}),(0,t.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Loading...":l?"Create Account":"Sign In"})]}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-border",children:(0,t.jsxs)("p",{className:"text-center text-muted-foreground",children:[l?"Already have an account?":"Don't have an account?"," ",(0,t.jsx)("button",{onClick:()=>o(!l),className:"text-blue-600 dark:text-blue-400 font-semibold hover:underline",children:l?"Sign In":"Sign Up"})]})})]})})]})})}var u=e.i(84540);let h=d("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),m=d("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),x=d("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),b=d("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),g=d("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),p=d("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function f({currentPage:e,setCurrentPage:a}){let{user:s,logout:l}=(0,r.useAuth)(),{theme:o,toggleTheme:d}=(0,u.useTheme)();return(0,t.jsxs)("div",{className:"w-64 backdrop-blur-md bg-white/10 dark:bg-black/20 border border-r border-white/20 dark:border-white/10 flex flex-col overflow-y-auto",children:[(0,t.jsx)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 border-b rounded-none animate-slide-down",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-blue-500/40 animate-float",children:(0,t.jsx)(i,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-bold text-foreground bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Lost & Found"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Community"})]})]})}),(0,t.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[{icon:h,label:"Feed",page:"home"},{icon:m,label:"New Post",page:"create"},{icon:n,label:"Messages",page:"chat"},{icon:x,label:"Profile",page:"dashboard"}].map(({icon:r,label:s,page:l},o)=>(0,t.jsxs)("button",{onClick:()=>a(l),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-300 ${e===l?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg shadow-blue-500/30 scale-105":"text-muted-foreground hover:text-foreground hover:bg-white/10 dark:hover:bg-black/20"}`,style:{animation:`slide-in 0.6s ease-out ${.1*o}s backwards`},children:[(0,t.jsx)(r,{className:"w-5 h-5"}),s]},l))}),(0,t.jsxs)("div",{className:"p-4 space-y-3 border-t border-white/10",children:[(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-4 py-3 animate-fade-in",children:[(0,t.jsx)("img",{src:s?.avatar||"/placeholder.svg",alt:s?.name,className:"w-10 h-10 rounded-full mb-2 animate-float"}),(0,t.jsx)("p",{className:"font-semibold text-foreground truncate",children:s?.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s?.email})]}),(0,t.jsx)("button",{onClick:d,className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-6 py-3 font-medium transition-all duration-300 hover:bg-white/20 dark:hover:bg-black/30 active:scale-95 flex items-center gap-3 px-4 py-2 text-foreground hover:text-white transition-all duration-300 group",children:"light"===o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"w-5 h-5 group-hover:scale-110 transition"}),(0,t.jsx)("span",{className:"text-sm",children:"Dark Mode"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{className:"w-5 h-5 group-hover:scale-110 transition"}),(0,t.jsx)("span",{className:"text-sm",children:"Light Mode"})]})}),(0,t.jsxs)("button",{onClick:l,className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-6 py-3 font-medium transition-all duration-300 hover:bg-white/20 dark:hover:bg-black/30 active:scale-95 flex items-center gap-3 px-4 py-2 text-red-500 hover:text-red-400 hover:bg-red-500/20 transition-all duration-300 active:scale-95",children:[(0,t.jsx)(b,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm",children:"Sign Out"})]})]})]})}let v=d("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w=d("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),k=d("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function y(){let{user:e}=(0,r.useAuth)(),[s,l]=(0,a.useState)("all"),[o,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/posts"),t=await e.json();d(t.posts)}catch(e){console.error("Failed to fetch posts:",e)}finally{u(!1)}})()},[]);let h=(0,a.useMemo)(()=>o.filter(e=>"all"===s||e.type===s),[o,s]),m=async t=>{if(e)try{o.find(e=>e.id===t)?.likedBy.includes(e.id)?await fetch(`/api/posts/${t}/like`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})}):await fetch(`/api/posts/${t}/like`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})});let r=await fetch("/api/posts"),a=await r.json();d(a.posts)}catch(e){console.error("Failed to toggle like:",e)}};return c?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("p",{className:"text-muted-foreground animate-fade-in",children:"Loading posts..."})}):(0,t.jsxs)("div",{className:"flex flex-col h-full bg-background/50",children:[(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-b sticky top-0 z-20 px-6 py-4 animate-slide-down",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Lost & Found Feed"}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","lost","found"].map((e,r)=>(0,t.jsx)("button",{onClick:()=>l(e),className:`backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-6 py-3 font-medium transition-all duration-300 hover:bg-white/20 dark:hover:bg-black/30 active:scale-95 text-sm ${s===e?"bg-blue-600/80 dark:bg-blue-600/60 text-white border-blue-500":"text-foreground hover:text-white"}`,style:{animation:`slide-up 0.6s ease-out ${.1*r}s backwards`},children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto p-4 space-y-4",children:h.map((r,a)=>(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 animate-fade-in hover:scale-105 group",style:{animation:`slide-up 0.6s ease-out ${a%3*.1}s backwards`},children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("img",{src:r.author.avatar||"/placeholder.svg",alt:r.author.name,className:"w-12 h-12 rounded-full animate-float shadow-lg"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground group-hover:text-blue-600 transition",children:r.author.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:r.author.location})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold backdrop-blur transition ${"lost"===r.type?"bg-red-500/30 border border-red-500/50 text-red-700 dark:text-red-300":"bg-emerald-500/30 border border-emerald-500/50 text-emerald-700 dark:text-emerald-300"}`,children:r.type.toUpperCase()})]}),(0,t.jsx)("h4",{className:"text-lg font-bold text-foreground mb-2 group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:via-purple-600 group-hover:to-pink-600 group-hover:bg-clip-text group-hover:text-transparent transition",children:r.title}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:r.description}),r.image&&(0,t.jsx)("img",{src:r.image||"/placeholder.svg",alt:r.title,className:"w-full h-72 object-cover rounded-xl mb-4 transition-transform duration-300 group-hover:scale-105"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground mb-4 px-2 py-2 rounded-lg bg-white/5 dark:bg-black/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w,{className:"w-4 h-4"}),r.location]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k,{className:"w-4 h-4"}),new Date(r.date).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-white/10 dark:border-white/5",children:[(0,t.jsxs)("button",{onClick:()=>m(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300 group/btn ${e&&r.likedBy.includes(e.id)?"text-red-600 dark:text-red-400 bg-red-500/20 backdrop-blur scale-105":"text-muted-foreground hover:text-foreground hover:bg-white/10 dark:hover:bg-black/20"}`,children:[(0,t.jsx)(i,{className:"w-5 h-5 transition-transform group-hover/btn:scale-110",fill:e&&r.likedBy.includes(e.id)?"currentColor":"none"}),(0,t.jsx)("span",{className:"font-semibold",children:r.likes})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-muted-foreground hover:text-foreground rounded-lg font-medium transition-all duration-300 hover:bg-white/10 dark:hover:bg-black/20",children:[(0,t.jsx)(n,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:r.comments})]}),(0,t.jsx)("button",{className:"flex items-center gap-2 px-4 py-2 text-muted-foreground hover:text-foreground rounded-lg font-medium transition-all duration-300 hover:bg-white/10 dark:hover:bg-black/20",children:(0,t.jsx)(v,{className:"w-5 h-5"})})]})]},r.id))})})]})}let j=d("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);function N(){let{user:e}=(0,r.useAuth)(),[s,l]=(0,a.useState)("all"),[o,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e&&(async()=>{try{let t=await fetch(`/api/posts?authorId=${e.id}`),r=await t.json();d(r.posts)}catch(e){console.error("Failed to fetch user posts:",e)}finally{u(!1)}})()},[e]);let h=o.filter(e=>"all"===s||e.type===s);return e?(0,t.jsxs)("div",{className:"flex flex-col h-full bg-background/50 overflow-y-auto",children:[(0,t.jsx)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-b sticky top-0 z-20 animate-slide-down",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex items-start gap-6 mb-8 animate-fade-in",children:[(0,t.jsx)("img",{src:e?.avatar||"/placeholder.svg",alt:e?.name,className:"w-24 h-24 rounded-full border-4 border-blue-500/50 shadow-lg animate-float"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:e?.name}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:e?.email}),(0,t.jsxs)("div",{className:"flex gap-6 text-sm",children:[(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-lg px-4 py-2 animate-scale-in",style:{animationDelay:"0.1s"},children:[(0,t.jsx)("p",{className:"font-semibold text-foreground",children:h.length}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Posts"})]}),(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-lg px-4 py-2 animate-scale-in",style:{animationDelay:"0.2s"},children:[(0,t.jsx)("p",{className:"font-semibold text-foreground",children:h.reduce((e,t)=>e+t.likes,0)}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Total Likes"})]}),(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-lg px-4 py-2 animate-scale-in",style:{animationDelay:"0.3s"},children:[(0,t.jsx)("p",{className:"font-semibold text-foreground",children:new Date(e?.joinedDate||"").toLocaleDateString("en-US",{month:"short",year:"numeric"})}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Joined"})]})]})]})]}),(0,t.jsx)("div",{className:"flex gap-2 border-t border-white/10 pt-4",children:["all","lost","found"].map((e,r)=>(0,t.jsx)("button",{onClick:()=>l(e),className:`backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-6 py-3 font-medium transition-all duration-300 hover:bg-white/20 dark:hover:bg-black/30 active:scale-95 text-sm ${s===e?"bg-blue-600/80 dark:bg-blue-600/60 text-white border-blue-500":"text-foreground hover:text-white"}`,style:{animation:`slide-up 0.6s ease-out ${.1*r}s backwards`},children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:c?(0,t.jsx)("div",{className:"text-center py-12 animate-fade-in",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading posts..."})}):0===h.length?(0,t.jsxs)("div",{className:"text-center py-12 animate-fade-in",children:[(0,t.jsx)(i,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No posts yet"})]}):(0,t.jsx)("div",{className:"grid gap-6",children:h.map((e,r)=>(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 flex gap-4 overflow-hidden group hover:scale-105",style:{animation:`slide-up 0.6s ease-out ${r%3*.1}s backwards`},children:[e.image&&(0,t.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.title,className:"w-40 h-40 object-cover flex-shrink-0 transition-transform group-hover:scale-110"}),(0,t.jsxs)("div",{className:"flex-1 p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-foreground group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:via-purple-600 group-hover:to-pink-600 group-hover:bg-clip-text group-hover:text-transparent transition",children:e.title}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex-shrink-0 backdrop-blur ${"lost"===e.type?"bg-red-500/30 border border-red-500/50 text-red-700 dark:text-red-300":"bg-emerald-500/30 border border-emerald-500/50 text-emerald-700 dark:text-emerald-300"}`,children:e.type.toUpperCase()})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground mb-4 px-2 py-2 rounded-lg bg-white/5 dark:bg-black/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(w,{className:"w-3 h-3"}),e.location]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(k,{className:"w-3 h-3"}),new Date(e.date).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-2 border-t border-white/10",children:[(0,t.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-all hover:scale-110",children:[(0,t.jsx)(i,{className:"w-4 h-4"}),e.likes]}),(0,t.jsxs)("button",{className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-all hover:scale-110",children:[(0,t.jsx)(n,{className:"w-4 h-4"}),e.comments]}),(0,t.jsx)("button",{className:"ml-auto text-muted-foreground hover:text-foreground transition-transform hover:rotate-90",children:(0,t.jsx)(j,{className:"w-4 h-4"})})]})]})]},e.id))})})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading..."})}let S=d("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function M(){let{user:e}=(0,r.useAuth)(),[s,l]=(0,a.useState)("lost"),[o,d]=(0,a.useState)(""),[i,n]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[b,g]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[v,w]=(0,a.useState)(""),k=async t=>{if(t.preventDefault(),e){f(!0),w("");try{if(!(await fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,title:o,description:i,location:c,date:h,image:b,authorId:e.id})})).ok)throw Error("Failed to create post");d(""),n(""),u(""),x(""),g(null),alert("Post created successfully!")}catch(e){w("Failed to create post. Please try again."),console.error(e)}finally{f(!1)}}};return(0,t.jsx)("div",{className:"flex flex-col h-full bg-background/50 overflow-y-auto",children:(0,t.jsxs)("div",{className:"flex-1 max-w-2xl mx-auto w-full px-6 py-8 animate-slide-up",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-2 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Create a Post"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-8",children:"Share details about your lost or found item with the community"}),v&&(0,t.jsx)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-red-500/50 text-red-700 dark:text-red-400 p-4 rounded-xl mb-6 animate-scale-in",children:v}),(0,t.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.1s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"What would you like to post?"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:["lost","found"].map(e=>(0,t.jsxs)("button",{onClick:()=>l(e),type:"button",className:`backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 text-left ${s===e?"border-blue-500/80 bg-blue-600/40 scale-105":"hover:border-blue-500/50 hover:bg-blue-500/20"}`,children:[(0,t.jsx)("p",{className:"font-semibold text-foreground capitalize mb-1",children:"lost"===e?"Lost Item":"Found Item"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"lost"===e?"Help find something I lost":"Help return something I found"})]},e))})]}),(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-3",children:"Add Image"}),(0,t.jsx)("div",{className:"relative",children:b?(0,t.jsxs)("div",{className:"relative animate-scale-in",children:[(0,t.jsx)("img",{src:b||"/placeholder.svg",alt:"Preview",className:"w-full h-80 object-cover rounded-2xl"}),(0,t.jsx)("button",{onClick:()=>g(null),type:"button",className:"absolute top-2 right-2 bg-red-600/80 hover:bg-red-700 text-white p-2 rounded-full backdrop-blur transition hover:scale-110 active:scale-95",children:(0,t.jsx)(S,{className:"w-5 h-5"})})]}):(0,t.jsxs)("label",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 text-center cursor-pointer border-dashed border-2 group transition hover:scale-105",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{g(e.target?.result)},e.readAsDataURL(t)}},className:"hidden"}),(0,t.jsx)(m,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3 group-hover:scale-125 transition"}),(0,t.jsx)("p",{className:"font-semibold text-foreground",children:"Add a photo"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload an image to help identify the item"})]})})]}),(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.3s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"e.g., Black Wallet Lost Near Park",className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 px-4 py-3 rounded-xl placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.4s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:i,onChange:e=>n(e.target.value),placeholder:"Provide detailed description of the item...",rows:4,className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 px-4 py-3 rounded-xl placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition resize-none",required:!0})]}),(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.5s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Location"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"e.g., Central Park, Downtown Area",className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 px-4 py-3 rounded-xl placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),(0,t.jsxs)("div",{className:"animate-slide-up",style:{animationDelay:"0.6s"},children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:h,onChange:e=>x(e.target.value),className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:p||!o||!i||!c||!h,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed animate-glow-pulse active:scale-95 animate-slide-up",style:{animationDelay:"0.7s"},children:p?"Publishing...":"Publish Post"})]})]})})}let C=d("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),$=d("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function L(){let{user:e}=(0,r.useAuth)(),[s,l]=(0,a.useState)([]),[o,d]=(0,a.useState)(null),[i,n]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[x,b]=(0,a.useState)(!0);(0,a.useEffect)(()=>{e&&(async()=>{try{let t=await fetch(`/api/conversations?userId=${e.id}`),r=await t.json();l(r.conversations),r.conversations.length>0&&d(r.conversations[0].id)}catch(e){console.error("Failed to fetch conversations:",e)}finally{b(!1)}})()},[e]),(0,a.useEffect)(()=>{o&&(async()=>{try{let e=await fetch(`/api/conversations/${o}/messages`),t=await e.json();n(t.messages)}catch(e){console.error("Failed to fetch messages:",e)}})()},[o]);let g=s.find(e=>e.id===o),p=s.filter(e=>e.otherUser.name.toLowerCase().includes(h.toLowerCase())),f=async t=>{if(t.preventDefault(),c.trim()&&o&&e)try{let t=await fetch(`/api/conversations/${o}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({senderId:e.id,text:c})});if(t.ok){let e=await t.json();n([...i,e.message]),u("")}}catch(e){console.error("Failed to send message:",e)}};return x?(0,t.jsx)("div",{className:"flex items-center justify-center h-full animate-fade-in",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading conversations..."})}):(0,t.jsxs)("div",{className:"flex h-full bg-background/50",children:[(0,t.jsxs)("div",{className:"w-80 backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-r flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl p-6 shadow-xl hover:shadow-2xl hover:bg-white/15 dark:hover:bg-black/25 transition-all duration-300 rounded-none border-b",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Messages"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)("input",{type:"text",placeholder:"Search conversations...",value:h,onChange:e=>m(e.target.value),className:"w-full backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 pl-10 pr-4 py-2 rounded-lg placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===p.length?(0,t.jsx)("div",{className:"p-4 text-center text-muted-foreground animate-fade-in",children:"No conversations yet"}):p.map((e,r)=>(0,t.jsx)("button",{onClick:()=>d(e.id),className:`w-full px-4 py-3 text-left border-b border-white/10 transition-all duration-300 group ${o===e.id?"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 bg-blue-600/30 border-blue-500/50":"hover:backdrop-blur-md hover:bg-white/10 dark:hover:bg-black/20"}`,style:{animation:`slide-up 0.6s ease-out ${.05*r}s backwards`},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:e.otherUser.avatar||"/placeholder.svg",alt:e.otherUser.name,className:"w-12 h-12 rounded-full animate-float shadow-lg transition-transform group-hover:scale-110"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground truncate group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:via-purple-600 group-hover:to-pink-600 group-hover:bg-clip-text group-hover:text-transparent transition",children:e.otherUser.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.lastMessage})]})]})},e.id))})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-b px-6 py-4 flex items-center justify-between animate-slide-down",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:g.otherUser.avatar||"/placeholder.svg",alt:g.otherUser.name,className:"w-10 h-10 rounded-full shadow-lg animate-float"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground group-hover:bg-gradient-to-r group-hover:from-blue-600 group-hover:via-purple-600 group-hover:to-pink-600 group-hover:bg-clip-text group-hover:text-transparent",children:g.otherUser.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["About: ",g.post]})]})]}),(0,t.jsx)("button",{className:"text-muted-foreground hover:text-foreground transition-transform hover:rotate-90 hover:scale-110",children:(0,t.jsx)(j,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 animate-fade-in",children:i.map((r,a)=>(0,t.jsx)("div",{className:`flex ${r.senderId===e?.id?"justify-end":"justify-start"} animate-slide-up`,style:{animationDelay:`${Math.min(.05*a,.3)}s`},children:(0,t.jsxs)("div",{className:`max-w-xs backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-2xl px-4 py-3 backdrop-blur transition-all hover:scale-105 ${r.senderId===e?.id?"bg-blue-600/80 border-blue-500/50 text-white shadow-lg shadow-blue-500/30":"bg-white/20 dark:bg-black/30 border-white/30 dark:border-white/10 text-foreground shadow-lg"}`,children:[(0,t.jsx)("p",{className:"text-sm break-words",children:r.text}),(0,t.jsx)("p",{className:`text-xs mt-2 font-medium ${r.senderId===e?.id?"text-blue-100 opacity-80":"text-muted-foreground"}`,children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},r.id))}),(0,t.jsx)("div",{className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 border-t px-4 py-4 animate-slide-up",children:(0,t.jsxs)("form",{onSubmit:f,className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Type a message...",className:"flex-1 backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 px-4 py-3 rounded-xl placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-blue-500 transition"}),(0,t.jsx)("button",{type:"submit",disabled:!c.trim(),className:"backdrop-blur-md bg-white/10 dark:bg-black/20 border border-white/20 dark:border-white/10 rounded-xl px-6 py-3 font-medium transition-all duration-300 hover:bg-white/20 dark:hover:bg-black/30 active:scale-95 bg-blue-600/80 hover:bg-blue-700/80 text-white disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",children:(0,t.jsx)(C,{className:"w-5 h-5"})})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full animate-fade-in",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Select a conversation to start chatting"})})})]})}function A(){let e=(0,a.useRef)(null),r=(0,a.useRef)([]),s=(0,a.useRef)();return(0,a.useEffect)(()=>{let t=e.current;if(!t)return;let a=t.getContext("2d");if(!a)return;let l=()=>{t.width=window.innerWidth,t.height=window.innerHeight};l(),window.addEventListener("resize",l);for(let e=0;e<50;e++)r.current.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,radius:2*Math.random()+1,opacity:.5*Math.random()+.2,life:100*Math.random()+100});let o=()=>{a.fillStyle="rgba(0, 0, 0, 0.02)",a.fillRect(0,0,t.width,t.height);let e=document.documentElement.classList.contains("dark")?"rgba(255, 255, 255, ":"rgba(59, 130, 246, ";r.current=r.current.filter(e=>e.life>0),r.current.forEach((s,l)=>{s.x+=s.vx,s.y+=s.vy,s.life-=.5,(s.x<0||s.x>t.width)&&(s.vx*=-1),(s.y<0||s.y>t.height)&&(s.vy*=-1),s.x=Math.max(0,Math.min(t.width,s.x)),s.y=Math.max(0,Math.min(t.height,s.y));let o=s.life/200*s.opacity;a.fillStyle=`${e}${o})`,a.beginPath(),a.arc(s.x,s.y,s.radius,0,2*Math.PI),a.fill();for(let t=l+1;t<r.current.length;t++){let l=r.current[t],d=l.x-s.x,i=l.y-s.y,n=Math.sqrt(d*d+i*i);n<150&&(a.strokeStyle=`${e}${.3*o/(n/100)})`,a.lineWidth=.5,a.beginPath(),a.moveTo(s.x,s.y),a.lineTo(l.x,l.y),a.stroke())}}),.3>Math.random()&&r.current.length<50&&r.current.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,radius:2*Math.random()+1,opacity:.5*Math.random()+.2,life:100*Math.random()+100}),s.current=requestAnimationFrame(o)};return o(),()=>{window.removeEventListener("resize",l),s.current&&cancelAnimationFrame(s.current)}},[]),(0,t.jsx)("canvas",{ref:e,className:"fixed inset-0 pointer-events-none opacity-40 dark:opacity-60",style:{zIndex:0}})}function D(){let[e,r]=(0,a.useState)("home");return(0,t.jsxs)("div",{className:"flex h-screen bg-background text-foreground overflow-hidden relative",children:[(0,t.jsx)(A,{}),(0,t.jsxs)("div",{className:"relative z-10 flex h-full w-full",children:[(0,t.jsx)(f,{currentPage:e,setCurrentPage:r}),(0,t.jsxs)("main",{className:"flex-1 overflow-hidden",children:["home"===e&&(0,t.jsx)(y,{}),"dashboard"===e&&(0,t.jsx)(N,{}),"create"===e&&(0,t.jsx)(M,{}),"chat"===e&&(0,t.jsx)(L,{})]})]})]})}function P(){let{user:e,isLoading:a}=(0,r.useAuth)();return a?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-border border-t-primary animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):e?(0,t.jsx)(D,{}):(0,t.jsx)(c,{})}e.s(["default",()=>P],31713)}]);